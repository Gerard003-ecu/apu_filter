.2025-09-14 21:50:51,115 - INFO - Cache miss.
2025-09-14 21:50:51,115 - INFO - Procesando archivos: test_uploads/ac50c688-d6af-4183-b6a6-13d2034bb9d0/presupuesto_1757904651_presupuesto.csv, test_uploads/ac50c688-d6af-4183-b6a6-13d2034bb9d0/apus_1757904651_apus.csv, test_uploads/ac50c688-d6af-4183-b6a6-13d2034bb9d0/insumos_1757904651_insumos.csv
2025-09-14 21:50:51,252 - INFO - Diagnóstico: 3 de 3 ítems del presupuesto encontraron su costo.
2025-09-14 21:50:51,361 - INFO - --- Procesamiento completado ---
2025-09-14 21:50:51,381 - INFO - Cache info: hits=0, misses=1, size=1
2025-09-14 21:50:51,382 - ERROR - Error en upload_files: Object of type DataFrame is not JSON serializable
F2025-09-14 21:50:51,399 - INFO - Cache miss.
2025-09-14 21:50:51,401 - INFO - Procesando archivos: test_uploads/fd1c0efd-c0db-4f44-bab0-1dc94b20bc3e/presupuesto_1757904651_presupuesto.csv, test_uploads/fd1c0efd-c0db-4f44-bab0-1dc94b20bc3e/apus_1757904651_apus.csv, test_uploads/fd1c0efd-c0db-4f44-bab0-1dc94b20bc3e/insumos_1757904651_insumos.csv
2025-09-14 21:50:51,610 - INFO - Diagnóstico: 3 de 3 ítems del presupuesto encontraron su costo.
2025-09-14 21:50:51,683 - INFO - --- Procesamiento completado ---
2025-09-14 21:50:51,710 - INFO - Cache info: hits=0, misses=2, size=2
2025-09-14 21:50:51,712 - ERROR - Error en upload_files: Object of type DataFrame is not JSON serializable
F2025-09-14 21:50:51,719 - INFO - Cache miss.
2025-09-14 21:50:51,721 - INFO - Procesando archivos: test_presupuesto.csv, test_apus.csv, test_insumos.csv
2025-09-14 21:50:51,884 - INFO - Diagnóstico: 3 de 3 ítems del presupuesto encontraron su costo.
2025-09-14 21:50:51,956 - INFO - --- Procesamiento completado ---
2025-09-14 21:50:51,983 - INFO - Cache info: hits=0, misses=1, size=1
2025-09-14 21:50:51,987 - INFO - Cache info: hits=1, misses=1, size=1
2025-09-14 21:50:51,987 - INFO - Caché limpiado forzosamente y procesando sin caché.
2025-09-14 21:50:51,987 - INFO - Procesando archivos: test_presupuesto.csv, test_apus.csv, test_insumos.csv
2025-09-14 21:50:52,111 - INFO - Diagnóstico: 3 de 3 ítems del presupuesto encontraron su costo.
2025-09-14 21:50:52,140 - INFO - --- Procesamiento completado ---
.2025-09-14 21:50:52,146 - INFO - Cache miss.
2025-09-14 21:50:52,146 - INFO - Procesando archivos: test_presupuesto.csv, test_apus.csv, test_insumos.csv
2025-09-14 21:50:52,247 - INFO - Diagnóstico: 3 de 3 ítems del presupuesto encontraron su costo.
2025-09-14 21:50:52,276 - INFO - --- Procesamiento completado ---
2025-09-14 21:50:52,286 - INFO - Cache info: hits=0, misses=1, size=1
.2025-09-14 21:50:52,321 - INFO - Cache miss.
2025-09-14 21:50:52,324 - INFO - Procesando archivos: test_presupuesto.csv, test_apus.csv, test_insumos.csv
2025-09-14 21:50:52,473 - INFO - Diagnóstico: 3 de 3 ítems del presupuesto encontraron su costo.
2025-09-14 21:50:52,505 - INFO - --- Procesamiento completado ---
2025-09-14 21:50:52,511 - INFO - Cache info: hits=0, misses=1, size=1
...2025-09-14 21:50:52,530 - WARNING - Error leyendo non_existent_file.csv con encoding latin1: [Errno 2] No such file or directory: 'non_existent_file.csv'
2025-09-14 21:50:52,531 - WARNING - Error leyendo non_existent_file.csv con encoding utf-8: [Errno 2] No such file or directory: 'non_existent_file.csv'
2025-09-14 21:50:52,532 - WARNING - Error leyendo non_existent_file.csv con encoding iso-8859-1: [Errno 2] No such file or directory: 'non_existent_file.csv'
2025-09-14 21:50:52,534 - WARNING - Error leyendo non_existent_file.csv con encoding windows-1252: [Errno 2] No such file or directory: 'non_existent_file.csv'
2025-09-14 21:50:52,534 - ERROR - No se pudo leer non_existent_file.csv con ningún encoding conocido
.
======================================================================
FAIL: test_02_upload_success (__main__.TestAppEndpoints.test_02_upload_success)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/gerardo/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/unittest/mock.py", line 1396, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gerardo/Documentos/GitHub/apu_filter/test_app.py", line 221, in test_02_upload_success
    self.assertEqual(response.status_code, 200)
AssertionError: 500 != 200

======================================================================
FAIL: test_07_get_estimate_with_session (__main__.TestAppEndpoints.test_07_get_estimate_with_session)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/gerardo/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/unittest/mock.py", line 1396, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gerardo/Documentos/GitHub/apu_filter/test_app.py", line 236, in test_07_get_estimate_with_session
    self.assertEqual(upload_response.status_code, 200)
AssertionError: 500 != 200

----------------------------------------------------------------------
Ran 9 tests in 1.479s

FAILED (failures=2)