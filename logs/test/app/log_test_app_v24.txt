00:13:59 - INFO - Iniciando aplicación en modo: development
00:13:59 - INFO - Iniciando aplicación en modo: development
00:13:59 - INFO - Configuración cargada exitosamente desde config.json
00:13:59 - INFO - Configuración cargada exitosamente desde config.json
00:13:59 - INFO - APUPresenter inicializado correctamente
00:13:59 - INFO - APUPresenter inicializado correctamente
00:13:59 - INFO - Iniciando carga de artefactos de búsqueda semántica...
00:13:59 - INFO - Iniciando carga de artefactos de búsqueda semántica...
00:13:59 - ERROR - ❌ Error crítico al cargar artefactos de búsqueda semántica: Error in faiss::Index* faiss::read_index(faiss::IOReader*, int) at /home/runner/miniconda3/conda-bld/faiss-pkg_1728491153420/work/faiss/impl/index_read.cpp:535: Error: 'ret == (1)' failed: read error in /home/gerardo/Documentos/GitHub/apu_filter/app/embeddings/faiss.index: 0 != 1 (Success)
Traceback (most recent call last):
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/app.py", line 290, in load_semantic_search_artifacts
    faiss_index = faiss.read_index(str(index_path))
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/faiss/swigfaiss.py", line 11280, in read_index
    return _swigfaiss.read_index(*args)
RuntimeError: Error in faiss::Index* faiss::read_index(faiss::IOReader*, int) at /home/runner/miniconda3/conda-bld/faiss-pkg_1728491153420/work/faiss/impl/index_read.cpp:535: Error: 'ret == (1)' failed: read error in /home/gerardo/Documentos/GitHub/apu_filter/app/embeddings/faiss.index: 0 != 1 (Success)
00:13:59 - ERROR - ❌ Error crítico al cargar artefactos de búsqueda semántica: Error in faiss::Index* faiss::read_index(faiss::IOReader*, int) at /home/runner/miniconda3/conda-bld/faiss-pkg_1728491153420/work/faiss/impl/index_read.cpp:535: Error: 'ret == (1)' failed: read error in /home/gerardo/Documentos/GitHub/apu_filter/app/embeddings/faiss.index: 0 != 1 (Success)
Traceback (most recent call last):
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/app.py", line 290, in load_semantic_search_artifacts
    faiss_index = faiss.read_index(str(index_path))
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/faiss/swigfaiss.py", line 11280, in read_index
    return _swigfaiss.read_index(*args)
RuntimeError: Error in faiss::Index* faiss::read_index(faiss::IOReader*, int) at /home/runner/miniconda3/conda-bld/faiss-pkg_1728491153420/work/faiss/impl/index_read.cpp:535: Error: 'ret == (1)' failed: read error in /home/gerardo/Documentos/GitHub/apu_filter/app/embeddings/faiss.index: 0 != 1 (Success)
00:13:59 - WARNING - La funcionalidad de búsqueda semántica ha sido desactivada debido a un error.
00:13:59 - WARNING - La funcionalidad de búsqueda semántica ha sido desactivada debido a un error.
 * Serving Flask app 'app.app:create_app('development')'
 * Debug mode: off
00:13:59 - INFO - WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5002
00:13:59 - INFO - Press CTRL+C to quit
00:14:37 - ERROR - Exception on /api/health [GET]
Traceback (most recent call last):
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 855, in connect_check_health
    sock = self.retry.call_with_retry(
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/retry.py", line 116, in call_with_retry
    return do()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 856, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 1306, in _connect
    raise err
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 1290, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/app.py", line 433, in health_check
    active_sessions = redis_client.dbsize()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/commands/core.py", line 895, in dbsize
    return self.execute_command("DBSIZE", **kwargs)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/client.py", line 657, in execute_command
    return self._execute_command(*args, **options)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/client.py", line 663, in _execute_command
    conn = self.connection or pool.get_connection()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/utils.py", line 196, in wrapper
    return func(*args, **kwargs)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 2601, in get_connection
    connection.connect()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 846, in connect
    self.connect_check_health(check_health=True)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 863, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 111 connecting to 127.0.0.1:6379. Connection refused.
00:14:37 - ERROR - Exception on /api/health [GET]
Traceback (most recent call last):
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 855, in connect_check_health
    sock = self.retry.call_with_retry(
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/retry.py", line 116, in call_with_retry
    return do()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 856, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 1306, in _connect
    raise err
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 1290, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/app.py", line 433, in health_check
    active_sessions = redis_client.dbsize()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/commands/core.py", line 895, in dbsize
    return self.execute_command("DBSIZE", **kwargs)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/client.py", line 657, in execute_command
    return self._execute_command(*args, **options)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/client.py", line 663, in _execute_command
    conn = self.connection or pool.get_connection()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/utils.py", line 196, in wrapper
    return func(*args, **kwargs)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 2601, in get_connection
    connection.connect()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 846, in connect
    self.connect_check_health(check_health=True)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 863, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 111 connecting to 127.0.0.1:6379. Connection refused.
00:14:37 - ERROR - Error 500: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 855, in connect_check_health
    sock = self.retry.call_with_retry(
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/retry.py", line 116, in call_with_retry
    return do()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 856, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 1306, in _connect
    raise err
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 1290, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/app.py", line 433, in health_check
    active_sessions = redis_client.dbsize()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/commands/core.py", line 895, in dbsize
    return self.execute_command("DBSIZE", **kwargs)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/client.py", line 657, in execute_command
    return self._execute_command(*args, **options)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/client.py", line 663, in _execute_command
    conn = self.connection or pool.get_connection()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/utils.py", line 196, in wrapper
    return func(*args, **kwargs)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 2601, in get_connection
    connection.connect()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 846, in connect
    self.connect_check_health(check_health=True)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 863, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 111 connecting to 127.0.0.1:6379. Connection refused.
00:14:37 - ERROR - Error 500: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 855, in connect_check_health
    sock = self.retry.call_with_retry(
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/retry.py", line 116, in call_with_retry
    return do()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 856, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 1306, in _connect
    raise err
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 1290, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/app.py", line 433, in health_check
    active_sessions = redis_client.dbsize()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/commands/core.py", line 895, in dbsize
    return self.execute_command("DBSIZE", **kwargs)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/client.py", line 657, in execute_command
    return self._execute_command(*args, **options)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/client.py", line 663, in _execute_command
    conn = self.connection or pool.get_connection()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/utils.py", line 196, in wrapper
    return func(*args, **kwargs)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 2601, in get_connection
    connection.connect()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 846, in connect
    self.connect_check_health(check_health=True)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/redis/connection.py", line 863, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 111 connecting to 127.0.0.1:6379. Connection refused.
00:14:37 - INFO - 127.0.0.1 - - [16/Nov/2025 00:14:37] "GET /api/health HTTP/1.1" 500 -