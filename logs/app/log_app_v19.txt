16:06:51 - INFO - 127.0.0.1 - - [12/Nov/2025 16:06:51] "GET / HTTP/1.1" 200 -
16:07:48 - INFO - Procesando archivos para sesi√≥n l1AorGDC...
16:07:48 - INFO - Procesando archivos para sesi√≥n l1AorGDC...
16:07:48 - INFO - ================================================================================
16:07:48 - INFO - üöÄ Iniciando procesamiento de archivos con patr√≥n pipeline...
16:07:48 - INFO - ================================================================================
16:07:48 - INFO - Cargando datos desde /home/gerardo/Documentos/GitHub/apu_filter/uploads/l1AorGDCoMbJGwWoPh7C-ztKnRiP3ADjva0X2xQrk-0/presupuesto.csv (formato: .csv)
16:07:48 - INFO - Cargando CSV desde /home/gerardo/Documentos/GitHub/apu_filter/uploads/l1AorGDCoMbJGwWoPh7C-ztKnRiP3ADjva0X2xQrk-0/presupuesto.csv con delimitador ';' y codificaci√≥n 'utf-8'
16:07:48 - WARNING - C√≥digo APU sin n√∫meros: 'nan' -> 'NAN'
16:07:48 - ERROR - ‚ùå Error procesando presupuesto: C√≥digo APU demasiado corto: '1'
Traceback (most recent call last):
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/procesador_csv.py", line 413, in process
    df = self._clean_and_convert_data(df)
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/procesador_csv.py", line 478, in _clean_and_convert_data
    .apply(clean_apu_code)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/pandas/core/series.py", line 4935, in apply
    ).apply()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/pandas/core/apply.py", line 1422, in apply
    return self.apply_standard()
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/pandas/core/apply.py", line 1502, in apply_standard
    mapped = obj._map_values(
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/pandas/core/base.py", line 925, in _map_values
    return algorithms.map_array(arr, mapper, na_action=na_action, convert=convert)
  File "/home/gerardo/miniconda3/envs/ap_filter_env/lib/python3.10/site-packages/pandas/core/algorithms.py", line 1743, in map_array
    return lib.map_infer(values, mapper, convert=convert)
  File "pandas/_libs/lib.pyx", line 2999, in pandas._libs.lib.map_infer
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/utils.py", line 696, in clean_apu_code
    raise ValueError(f"C√≥digo APU demasiado corto: '{original_code}'")
ValueError: C√≥digo APU demasiado corto: '1'
16:07:48 - WARNING - ‚ö†Ô∏è  Se encontraron 54 insumos con descripciones normalizadas duplicadas. Se conservar√° el de mayor precio.
16:07:48 - INFO - ‚úÖ Insumos cargados: 115 insumos √∫nicos
16:07:48 - INFO - Starting line-by-line parsing of: apus.csv
16:07:48 - INFO - File read successfully with encoding: latin1
16:07:50 - INFO - Parsing complete. Extracted 981 raw records.
16:07:50 - INFO - Parser Lark inicializado con arquitectura de especialistas
16:07:50 - INFO - Iniciando procesamiento de 981 APUs con especialistas
16:07:50 - INFO - Procesados 100/981 APUs
16:07:50 - INFO - Procesados 200/981 APUs
16:07:50 - INFO - Procesados 300/981 APUs
16:07:50 - INFO - Procesados 400/981 APUs
16:07:50 - INFO - Procesados 500/981 APUs
16:07:50 - INFO - Procesados 600/981 APUs
16:07:50 - INFO - Procesados 700/981 APUs
16:07:50 - INFO - Procesados 800/981 APUs
16:07:50 - INFO - Procesados 900/981 APUs
16:07:50 - INFO - Procesamiento completado: 0 insumos extra√≠dos
16:07:50 - WARNING - No se encontraron insumos v√°lidos
16:07:50 - ERROR - ‚ùå DataFrame 'presupuesto' est√° vac√≠o o es None
16:07:50 - ERROR - ‚ùå Error en el pipeline: DataFrame 'presupuesto' est√° vac√≠o o es None
Traceback (most recent call last):
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/procesador_csv.py", line 1339, in _do_processing
    final_context = pipeline.run(initial_context)
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/procesador_csv.py", line 108, in run
    context = step.execute(context)
  File "/home/gerardo/Documentos/GitHub/apu_filter/app/procesador_csv.py", line 301, in execute
    raise ValueError(error)
ValueError: DataFrame 'presupuesto' est√° vac√≠o o es None
16:07:50 - ERROR - Error de procesamiento: Error en el pipeline: DataFrame 'presupuesto' est√° vac√≠o o es None
16:07:50 - ERROR - Error de procesamiento: Error en el pipeline: DataFrame 'presupuesto' est√° vac√≠o o es None
16:07:50 - INFO - 127.0.0.1 - - [12/Nov/2025 16:07:50] "POST /upload HTTP/1.1" 500 -